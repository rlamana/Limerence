<dom-module id="lime-radio">
    <link rel="import" href="../behaviors/behaviors.html">
    <link rel="import" type="css" href="radio.css">

    <template>
        <lime-radio-frame>
            <div class="mark"></div>
            <div class="label">
                <content></content>
            </div>
        </lime-radio-frame>
    </template>

    <script>
        Polymer({
            is: 'lime-radio',
            behaviors: [
                Lime.Behaviors.AllowActive,
                Lime.Behaviors.AllowFocus,
                Lime.Behaviors.AllowDisabled
            ],

            listeners: {
                'up': 'toggle'
            },

            properties: {
                checked: {
                    type: Boolean,
                    value: false,
                    reflectToAttribute: true,
                    observer: '_changeChecked'
                },
            },

            toggle: function() {
                this.checked = !this.checked;
            },

            _changeChecked: function(value, oldvalue) {
                if (typeof oldvalue !== 'undefined' && 
                    value !== oldvalue && value) {
                    this.fire('selected', value);
                }
            }
        });
    </script>
</dom-module>